---
title: into dmesg
date: "2023-07-01"
description: hardware ready to boost
image: /images/blog/arima.jpg
authors:
  - KUD
---

```text
[    0.000000] microcode: microcode updated early to revision 0x113, 
               date = 2023-02-06
```
系统的微码（microcode）在启动早期就已更新到了修订版本 0x113，更新日期是 2023/2/6。微码是嵌入到 CPU 中的固件，可以修正硬件错误或增强安全性。

```text
[    0.000000] Linux version 6.1.35 (nixbld@localhost) 
              (gcc (GCC) 12.3.0, GNU ld (GNU Binutils) 2.40) 
              #1-NixOS SMP PREEMPT_DYNAMIC Wed Jun 21 14:01:03 UTC 2023
```

```text
[    0.000000] Command line: initrd=\efi\nixos\gp0yimmqv6r4cx1v76mznvr2xifgdnsd-initrd-linux-6.1.35-initrd.efi
               init=/nix/store/z95pb228s4cpbh07v03gshs6gza6nq9y-nixos-system-Lain-23.11.20230628.60a783e/init 
               radeon.cik_support=0 
               amdgpu.cik_support=1 
               loglevel=4
```
内核启动时的命令行参数。initrd 是指定初始 RAM 磁盘的位置，init 是指定初始程序的位置，`radeon.cik_support=0` 和 `amdgpu.cik_support=1` 是 AMD 显卡驱动设置，loglevel=4 是设置系统日志级别。

```text
[    0.000000] x86/split lock detection: 
               #AC: crashing the kernel on kernel split_locks and warning on user-space split_locks
```
当内核发生分裂锁定（split lock）时，系统将会崩溃，而在用户空间发生分裂锁定时会发出警告

```text
[    0.000000] x86/fpu: Supporting XSAVE feature 0x001: 
                        'x87 floating point registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x002: 
                        'SSE registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x004: 
                        'AVX registers'
[    0.000000] x86/fpu: Supporting XSAVE feature 0x200: 
                        'Protection Keys User registers'
[    0.000000] x86/fpu: xstate_offset[2]:  576, xstate_sizes[2]:  256
[    0.000000] x86/fpu: xstate_offset[9]:  832, xstate_sizes[9]:    8
[    0.000000] x86/fpu: Enabled xstate features 0x207, context size is 840 bytes, 
                        using 'compacted' format.
```
关于 x86 架构的浮点单元（FPU）配置信息。表明支持的 XSAVE 特性，以及这些特性对应的状态偏移和大小。最后一行表明启用了 xstate features 0x207，其上下文大小为 840 字节，并使用了'compacted'格式。这些都是和处理器的浮点计算有关的硬件特性。

```text
[    0.000000] signal: max sigframe size: 3632
```
信号栈帧（sigframe）的最大尺寸是 3632 字节。信号栈帧是操作系统用于处理进程接收信号时保存和恢复上下文的数据结构。

```text
[    0.000000] BIOS-provided physical RAM map:
```
内存映射信息是由 BIOS 提供的。

```text
[    0.000000] BIOS-e820: [mem 0x0000000000000000-0x000000000009dfff] usable
[    0.000000] BIOS-e820: [mem 0x000000000009e000-0x000000000009efff] reserved
[    0.000000] BIOS-e820: [mem 0x000000000009f000-0x000000000009ffff] usable
[    0.000000] BIOS-e820: [mem 0x00000000000a0000-0x00000000000fffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000000100000-0x0000000064840fff] usable
[    0.000000] BIOS-e820: [mem 0x0000000064841000-0x0000000064841fff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000064842000-0x000000006589bfff] usable
[    0.000000] BIOS-e820: [mem 0x000000006589c000-0x000000006589cfff] reserved
[    0.000000] BIOS-e820: [mem 0x000000006589d000-0x00000000705aafff] usable
[    0.000000] BIOS-e820: [mem 0x00000000705ab000-0x00000000742aafff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000742ab000-0x000000007451efff] ACPI data
[    0.000000] BIOS-e820: [mem 0x000000007451f000-0x000000007471efff] ACPI NVS
[    0.000000] BIOS-e820: [mem 0x000000007471f000-0x0000000075ffefff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000075fff000-0x0000000075ffffff] usable
[    0.000000] BIOS-e820: [mem 0x0000000076000000-0x0000000079ffffff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007a400000-0x000000007a7fffff] reserved
[    0.000000] BIOS-e820: [mem 0x000000007b000000-0x00000000807fffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000c0000000-0x00000000cfffffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fe000000-0x00000000fe010fff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fec00000-0x00000000fec00fff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fed00000-0x00000000fed00fff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fed20000-0x00000000fed7ffff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000fee00000-0x00000000fee00fff] reserved
[    0.000000] BIOS-e820: [mem 0x00000000ff000000-0x00000000ffffffff] reserved
[    0.000000] BIOS-e820: [mem 0x0000000100000000-0x000000087f7fffff] usable
```
BIOS 提供的物理 RAM 内存映射，表明内存地址的范围和用途。其中 usable 表示该地址范围的内存可以被操作系统使用，reserved 表示这部分内存被保留，不能被操作系统使用，ACPI data 表示这部分内存被 ACPI 系统使用，ACPI NVS 表示这部分内存被 ACPI 系统用作非易失性存储。

```text
[    0.000000] NX (Execute Disable) protection: active
```
系统启用了无执行（NX）保护，这是一种硬件技术，可以防止恶意软件通过数据区域执行代码。

```text
[    0.000000] e820: update [mem 0x5e181018-0x5e19ee57] usable ==> usable
[    0.000000] e820: update [mem 0x5e181018-0x5e19ee57] usable ==> usable
[    0.000000] e820: update [mem 0x5e171018-0x5e180057] usable ==> usable
[    0.000000] e820: update [mem 0x5e171018-0x5e180057] usable ==> usable
```
在系统启动过程中，内存的状态被重新确认或更新

```text
[    0.000000] extended physical RAM map:
```
内存映射信息是扩展的物理 RAM 映射。

```text
[0.000000] reserve setup_data: [mem 0x0000000000000000-0x000000000009dfff] usable
[0.000000] reserve setup_data: [mem 0x000000000009e000-0x000000000009efff] reserved
[0.000000] reserve setup_data: [mem 0x000000000009f000-0x000000000009ffff] usable
[0.000000] reserve setup_data: [mem 0x00000000000a0000-0x00000000000fffff] reserved
[0.000000] reserve setup_data: [mem 0x0000000000100000-0x000000005e171017] usable
[0.000000] reserve setup_data: [mem 0x000000005e171018-0x000000005e180057] usable
[0.000000] reserve setup_data: [mem 0x000000005e180058-0x000000005e181017] usable
[0.000000] reserve setup_data: [mem 0x000000005e181018-0x000000005e19ee57] usable
[0.000000] reserve setup_data: [mem 0x000000005e19ee58-0x0000000064840fff] usable
[0.000000] reserve setup_data: [mem 0x0000000064841000-0x0000000064841fff] reserved
[0.000000] reserve setup_data: [mem 0x0000000064842000-0x000000006589bfff] usable
[0.000000] reserve setup_data: [mem 0x000000006589c000-0x000000006589cfff] reserved
[0.000000] reserve setup_data: [mem 0x000000006589d000-0x00000000705aafff] usable
[0.000000] reserve setup_data: [mem 0x00000000705ab000-0x00000000742aafff] reserved
[0.000000] reserve setup_data: [mem 0x00000000742ab000-0x000000007451efff] ACPI data
[0.000000] reserve setup_data: [mem 0x000000007451f000-0x000000007471efff] ACPI NVS
[0.000000] reserve setup_data: [mem 0x000000007471f000-0x0000000075ffefff] reserved
[0.000000] reserve setup_data: [mem 0x0000000075fff000-0x0000000075ffffff] usable
[0.000000] reserve setup_data: [mem 0x0000000076000000-0x0000000079ffffff] reserved
[0.000000] reserve setup_data: [mem 0x000000007a400000-0x000000007a7fffff] reserved
[0.000000] reserve setup_data: [mem 0x000000007b000000-0x00000000807fffff] reserved
[0.000000] reserve setup_data: [mem 0x00000000c0000000-0x00000000cfffffff] reserved
[0.000000] reserve setup_data: [mem 0x00000000fe000000-0x00000000fe010fff] reserved
[0.000000] reserve setup_data: [mem 0x00000000fec00000-0x00000000fec00fff] reserved
[0.000000] reserve setup_data: [mem 0x00000000fed00000-0x00000000fed00fff] reserved
[0.000000] reserve setup_data: [mem 0x00000000fed20000-0x00000000fed7ffff] reserved
[0.000000] reserve setup_data: [mem 0x00000000fee00000-0x00000000fee00fff] reserved
[0.000000] reserve setup_data: [mem 0x00000000ff000000-0x00000000ffffffff] reserved
[0.000000] reserve setup_data: [mem 0x0000000100000000-0x000000087f7fffff] usable
```

```text
[    0.000000] efi: EFI v2.80 by American Megatrends
```
使用了 EFI 引导方式，版本 2.80，由 American Megatrends 公司提供

```text
[    0.000000] efi: ACPI=0x7451e000 ACPI 2.0=0x7451e014 TPMFinalLog=0x7464c000 
               SMBIOS=0x75d1d000 SMBIOS 3.0=0x75d1c000 MEMATTR=0x6db3b418 ESRT=0x6dcd4918 
               RNG=0x74479f18 INITRD=0x600ec698 TPMEventLog=0x5e19f018 
```
有关 EFI 固件所提供的各种表格和信息的地址。如 ACPI=0x7451e000 表示 ACPI 表的基地址是 0x7451e000，SMBIOS=0x75d1d000 表示 SMBIOS 表的基地址是 0x75d1d000。这些表格包含了硬件、电源管理和系统事件的重要信息，操作系统会用这些信息来了解和管理硬件

```text
[    0.000000] random: crng init done
```
系统的加密随机数生成器（Cryptographically Secure Pseudo-Random Number Generator，crng）已完成初始化。

```text
[    0.000000] SMBIOS 3.4.0 present.
```
系统的 SMBIOS（System Management BIOS，系统管理 BIOS）版本为 3.4.0。

```text
[    0.000000] DMI: ASUS System Product Name/ROG STRIX B660-I GAMING WIFI, 
                    BIOS 2212 12/13/2022
```
提供了系统的 DMI（Desktop Management Interface，桌面管理接口）信息，包括制造商（ASUS）、产品名（System Product Name）、主板型号（ROG STRIX B660-I GAMING WIFI）以及 BIOS 的版本（2212）和发布日期（2022 年 12 月 13 日）

```text
[    0.000000] tsc: Detected 3500.000 MHz processor
[    0.000000] tsc: Detected 3494.400 MHz TSC
```
TSC（Time Stamp Counter，时间戳计数器）检测到处理器的频率。

```text
[    0.000129] e820: update [mem 0x00000000-0x00000fff] usable ==> reserved
[    0.000130] e820: remove [mem 0x000a0000-0x000fffff] usable
[    0.000136] last_pfn = 0x87f800 max_arch_pfn = 0x400000000
[    0.000247] x86/PAT: Configuration [0-7]: WB  WC  UC- UC  WB  WP  UC- WT  
[    0.000802] e820: update [mem 0x7c000000-0xffffffff] usable ==> reserved
[    0.000806] last_pfn = 0x76000 max_arch_pfn = 0x400000000
```
关于系统内存配置的更新。内存地址从 0x00000000 到 0x00000fff 的状态从可用（usable）更改为保留（reserved）

```text
[    0.004873] esrt: Reserving ESRT space from 0x000000006dcd4918 to 0x000000006dcd49f0.
```
ESRT（EFI System Resource Table，EFI 系统资源表）空间已被保留。

```text
[    0.004876] e820: update [mem 0x6dcd4000-0x6dcd4fff] usable ==> reserved
```

```text
[    0.004888] Using GB pages for direct mapping
```
系统采用了 GB 级别的页面来进行直接映射。

```text
[    0.004889] Incomplete global flushes, disabling PCID
[    0.005132] Secure boot disabled
```
系统的安全启动（Secure Boot）功能已被禁用。

```text
[    0.005133] RAMDISK: [mem 0x58d0e000-0x5b486fff]
```
创建了一个 RAM 磁盘（RAMDISK），也就是一部分 RAM 被模拟成硬盘使用，这部分 RAM 的地址范围是 0x58d0e000-0x5b486fff。
